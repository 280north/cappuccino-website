<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>

    <link rel="stylesheet" type="text/css" media="screen" href="/includes/style.css"/>

    <!--[if IE]>
    <link rel="stylesheet" type="text/css" media="screen" href="/includes/style-ie.css"/>
    <![endif]-->

    <title>Cappuccino Blog   &raquo; Objective-J</title>

    <link rel="alternate" type="application/rss+xml" title="Cappuccino Blog RSS Feed" href="http://cappuccino.org/discuss/feed/" />
    <link rel="pingback" href="http://cappuccino.org/discuss/xmlrpc.php" />
	<link rel="shortcut icon" href="/images/favicon.png" type="image/png" />

    <meta name='robots' content='noindex,nofollow' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://cappuccino.org/discuss/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://cappuccino.org/discuss/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 2.7" />


</head>
<body>

    <div id="headerWrapper">
        <div id="headerContent">
            <div id="navigation">
            
                    
                        <div class="navigationLink">
                            <a href="/">Home</a>
                        </div>
                        
                        <div class="navigationLink">
                            <a href="/learn/">Learn</a>
                        </div>
                        
                        <div class="navigationLink">
                            <a class="activeLink" href="/discuss/">
                            Discuss</a>
                            <div id="navigationMarker"></div>
                        </div>
                        
                        <div class="navigationLink">
                            <a href="/contribute/">Contribute</a>
                        </div>
                        
                        <div class="navigationLink">
                            <a href="/download/">Download</a>
                        </div>
                                    
            </div>
            <div id="cappuccinoAnchor">
                <a href="/"><img width="32" height="32" id="cappuccinoAnchorLogo" src="/images/cappuccino-small.png" alt=" " /></a>
                <a href="/">cappuccino.org</a>
            </div>
        </div>
    </div>
    
    <div id="topContentWrapper"></div>

    <div id="mainContentWrapper">
        <div id="mainContent">

	<div id="subNavigation">
		<ul>
		
            <h3>Discuss</h3>
                <ul>
                                        <li class="active"><a href="/discuss/">Cappuccino Blog</a></li>
                    <li><a href="http://www.reddit.com/r/Cappuccino/">Latest News</a></li>
                    <li><a href="/discuss/events/">Events</a></li>
                                        <li><a href="/discuss/list.php">Mailing List &amp; IRC</a></li>
                    <li><a href="/discuss/faq.php">Frequently Asked Questions</a></li>
                </ul>

			
			<!-- Author information is disabled per default. Uncomment and fill in your details if you want to use it.
			<li><h2>Author</h2>
			<p>A little something about you, the author. Nothing lengthy, just an overview.</p>
			</li>
			-->

			 <li>

						<p>You are currently browsing the archives for the Objective-J category.</p>

			
			</li> 
			<li class="categories"><h3>Categories</h3><ul>	<li class="cat-item cat-item-34"><a href="http://cappuccino.org/discuss/category/280-north/" title="View all posts filed under 280 North">280 North</a> (1)
</li>
	<li class="cat-item cat-item-3"><a href="http://cappuccino.org/discuss/category/cappuccino/" title="View all posts filed under Cappuccino">Cappuccino</a> (25)
<ul class='children'>
	<li class="cat-item cat-item-30"><a href="http://cappuccino.org/discuss/category/cappuccino/releases/" title="View all posts filed under Releases">Releases</a> (4)
</li>
	<li class="cat-item cat-item-27"><a href="http://cappuccino.org/discuss/category/cappuccino/tools/" title="View all posts filed under Tools">Tools</a> (5)
</li>
</ul>
</li>
	<li class="cat-item cat-item-5"><a href="http://cappuccino.org/discuss/category/events/" title="View all posts filed under Events">Events</a> (4)
</li>
	<li class="cat-item cat-item-13 current-cat"><a href="http://cappuccino.org/discuss/category/objective-j/" title="View all posts filed under Objective-J">Objective-J</a> (3)
</li>
	<li class="cat-item cat-item-18"><a href="http://cappuccino.org/discuss/category/tutorials/" title="View all posts filed under Tutorials">Tutorials</a> (10)
</li>
	<li class="cat-item cat-item-1"><a href="http://cappuccino.org/discuss/category/uncategorized/" title="View all posts filed under Uncategorized">Uncategorized</a> (2)
</li>
	<li class="cat-item cat-item-4"><a href="http://cappuccino.org/discuss/category/update/" title="View all posts filed under Update">Update</a> (3)
</li>
</ul></li>
			<li><h3>Archives</h3>
				<ul>
					<li><a href='http://cappuccino.org/discuss/2009/05/' title='May 2009'>May 2009</a></li>
	<li><a href='http://cappuccino.org/discuss/2009/04/' title='April 2009'>April 2009</a></li>
	<li><a href='http://cappuccino.org/discuss/2009/03/' title='March 2009'>March 2009</a></li>
	<li><a href='http://cappuccino.org/discuss/2009/02/' title='February 2009'>February 2009</a></li>
	<li><a href='http://cappuccino.org/discuss/2009/01/' title='January 2009'>January 2009</a></li>
	<li><a href='http://cappuccino.org/discuss/2008/12/' title='December 2008'>December 2008</a></li>
	<li><a href='http://cappuccino.org/discuss/2008/11/' title='November 2008'>November 2008</a></li>
	<li><a href='http://cappuccino.org/discuss/2008/10/' title='October 2008'>October 2008</a></li>
	<li><a href='http://cappuccino.org/discuss/2008/09/' title='September 2008'>September 2008</a></li>
				</ul>
			</li>


			<li>
				<form method="get" id="searchform" action="http://cappuccino.org/discuss/">
<label class="hidden" for="s">Search for:</label>
<div><input type="text" value="" name="s" id="s" />
<input type="submit" id="searchsubmit" value="Search" />
</div>
</form>
			</li>

					</ul>
	</div>


            <div id="mainContentDetail">

		
 	   	  		<h2 class="pagetitle">Archive for the &#8216;Objective-J&#8217; Category</h2>
 	  

		<div class="navigation">
			<div class="alignleft"></div>
			<div class="alignright"></div>
		</div>

				<div class="post">
				<h3 id="post-301"><a href="http://cappuccino.org/discuss/2009/02/28/announcing-atlas/" rel="bookmark" title="Permanent Link to Announcing Atlas">Announcing Atlas</a></h3>
				<small>Saturday, February 28th, 2009</small>

				<div class="entry">
					<p>Over at <a href="http://280north.com">280 North</a>, we announced our next product, called Atlas, at the <a href="http://events.carsonified.com/fowa">Future of Web Apps</a> conference in Miami this week.</p>
<p>Atlas is a visual development tool for creating web applications using the <a href="http://cappuccino.org">Cappuccino</a> framework. The best way to explain Atlas is to show it:</p>
<p><object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="545" height="361" id="viddler_1db9bf4d"><param name="wmode" value="transparent" /><param name="movie" value="http://www.viddler.com/simple/1db9bf4d/" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="true" /><embed src="http://www.viddler.com/simple/1db9bf4d/" width="545" height="361" type="application/x-shockwave-flash" allowScriptAccess="always" allowFullScreen="true" name="viddler_1db9bf4d" wmode="transparent"></embed></object></p>
<p><a href="http://thinkvitamin.com/features/atlas-under-the-hood/">Think Vitamin has an article</a> discussing Atlas in more detail.</p>
<p>We&#8217;re really excited about the ways Atlas could change the process of developing web applications. Atlas will allow developers to worry less about boilerplate user interface and glue code, just as the Cappuccino framework gives developers many common features expected by users, letting them focus on the ones specific to their applications.</p>
<p>Furthermore, Atlas allows non-programmers, such as many graphic designers, to join in on the process of actually building an application, rather than just providing mockups that must then be replicated in code by a developer.</p>
<p>Atlas will be available this summer. Sign up for updates on <a href="http://280atlas.com">280atlas.com</a> and we&#8217;ll let you know of the progress on Atlas.</p>
				</div>

				<p class="postmetadata">Tags: <a href="http://cappuccino.org/discuss/tag/280north/" rel="tag">280north</a>, <a href="http://cappuccino.org/discuss/tag/atlas/" rel="tag">atlas</a>, <a href="http://cappuccino.org/discuss/tag/cappuccino/" rel="tag">Cappuccino</a>, <a href="http://cappuccino.org/discuss/tag/tools/" rel="tag">Tools</a><br /> Posted in <a href="http://cappuccino.org/discuss/category/280-north/" title="View all posts in 280 North" rel="category tag">280 North</a>,  <a href="http://cappuccino.org/discuss/category/cappuccino/" title="View all posts in Cappuccino" rel="category tag">Cappuccino</a>,  <a href="http://cappuccino.org/discuss/category/objective-j/" title="View all posts in Objective-J" rel="category tag">Objective-J</a>,  <a href="http://cappuccino.org/discuss/category/cappuccino/tools/" title="View all posts in Tools" rel="category tag">Tools</a> |   <a href="http://cappuccino.org/discuss/2009/02/28/announcing-atlas/#comments" title="Comment on Announcing Atlas"></a><noscript><a href="http://cappuccino.disqus.com/?url=http://cappuccino.org/discuss/2009/02/28/announcing-atlas/">View comments</a></noscript><a href="http://cappuccino.org/discuss/2009/02/28/announcing-atlas/#disqus_thread">Comments</a></a></p>

			</div>

				<div class="post">
				<h3 id="post-159"><a href="http://cappuccino.org/discuss/2008/12/08/on-leaky-abstractions-and-objective-j/" rel="bookmark" title="Permanent Link to On Leaky Abstractions and Objective-J">On Leaky Abstractions and Objective-J</a></h3>
				<small>Monday, December 8th, 2008</small>

				<div class="entry">
					<p>In a <a href="http://ejohn.org/blog/javascript-language-abstractions/">recent post</a> by John Resig, and in many of the comments, there seems to be the mistaken belief that Objective-J was designed to allow existing Objective-C programmers to write code that runs on the web. It&#8217;s been compared to GWT, where developers program almost exclusively in Java and are allowed to “circumvent” JavaScript. This however is not the case with Objective-J at all. For starters, Objective-J is simply a language addition to JavaScript, and exists separately from the actual Cappuccino framework (which I&#8217;ll discuss a little later). It does not directly have anything to do with the DOM or AJAX, etc. The purpose behind Objective-J was to facilitate the development of Cappuccino, and when we originally set out to do that we simply wanted to add a few key missing features to the existing JavaScript “standard”. In other words, Objective-J is our take on JavaScript 2.0.</p>
<p>Now, this is usually the point at which someone chimes in that JavaScript is <strong>perfect</strong>, and that I just don&#8217;t understand it (you know, despite the fact that I&#8217;ve been using it for upwards of 10 years and have worked on its implementation in a major shipping browser). However, I think most people in the community can agree that there are some pretty big holes remaining in JavaScript. JavaScript is being used in increasingly larger projects, and in these projects some of its weaknesses are beginning to show. This is precisely why we have things like the (now dead) ECMAScript 4 proposal, Harmony, and Adobe&#8217;s ActionScript. And the truth is, had JavaScript 2.0 come around and been widely implemented and supported, we would have built Cappuccino without Objective-J. But the problem is that JavaScript 2.0 didn&#8217;t come around. I started working on what would eventually become Objective-J and Cappuccino <strong>three years ago</strong>, and in that time there have been no significant improvements or changes to the JavaScript language. Yes, certain browsers have taken it upon themselves to add a few nice features here and there, but for people writing real applications that need to run on most browsers, its simply not practical to rely on them. For the most part, we&#8217;re writing the same JavaScript today (language-wise at least) that we were 5 years ago. And that doesn&#8217;t seem like its going to change anytime soon.</p>
<h3><strong>Everybody is writing &#8220;abstractions&#8221; around JavaScript<br />
</strong></h3>
<p>And I don&#8217;t just mean projects like Pyjamas and GWT. I mean <strong>EVERYBODY</strong>, including Prototype, Dojo, and jQuery.  Yes, you read correctly, all the major JavaScript frameworks are essentially doing the same thing we are to some degree or another &#8212; we&#8217;re really not that original. The sole difference between their approach and ours is that when they add new language features to JavaScript, they&#8217;re not taking the extra step of introducing <em>new syntax</em>. Don&#8217;t believe me? Take a quick look at an example right out of the Prototype tutorials:</p>
<link rel="stylesheet" type="text/css" media="screen" href="/includes/tutorial.css"/>
<pre>
<div class="codeblock" style="margin-bottom: 0px; border: 0px;"><span class="comments">// when subclassing, specify the class you want to inherit from</span>
<span class="keyword">var</span> Pirate = Class.create(Person,
{
     <span class="comments">// redefine the speak method</span>
    <span class="selector">say</span>: <span class="keyword">function</span>($super, message)
    {
          <span class="keyword">return</span> $super(message) + ', yarr!';
    }
});</div>
</pre>
<p>What we&#8217;re seeing here is the introduction of classical inheritance to the JavaScript language. This has always traditionally been a language feature, but due to its absence in JavaScript, the folks at Prototype have chosen to make it a library feature. The important thing to realize here is that it requires as much work to learn about the Class function as it would to learn about a new class keyword. And the same is true of Dojo:</p>
<pre>
<div class="codeblock" style="margin-bottom: 0px; border: 0px;">dojo.declare("Employee", Person,
{
    <span class="selector">constructor</span>: <span class="keyword">function</span>(name, age, currentResidence, position)
    {
          <span class="comments">// remember, Person constructor is called automatically</span>
          <span class="keyword">this</span>.password="";
          <span class="keyword">this</span>.position=position;
    },
    <span class="selector">login</span>: <span class="keyword">function</span>()
    {
          <span class="keyword">if</span> (<span class="keyword">this</span>.password)
               alert('you have successfully logged in');
          <span class="keyword">else</span>
               alert('please ask the administrator for your password');
    }
});</div>
</pre>
<p>Once again, dojo.declare might as well be a new keyword since its shoehorning classical inheritance right into JavaScript. The jQuery UI widgets do something very similar to this with the &#8220;widget&#8221; factory method:</p>
<pre>
<div class="codeblock" style="margin-bottom: 0px; border: 0px;">
$.widget("ui.sortable", $.extend({}, $.ui.mouse,
{
    <span class="selector">_init</span>: <span class="keyword">function</span>()
    {
           <span class="keyword">var</span> o = this.options;
           <span class="keyword">this</span>.containerCache = {};
           <span class="keyword">this</span>.element.addClass("ui-sortable");
<span class="comments">//...</span></div>
</pre>
<p>At the end of the day, it doesn&#8217;t really matter if you&#8217;re a JavaScript expert, all these libraries have quite the learning curve and if its your first time with any of them, you&#8217;re going to have be referring to documentation a lot.  And that&#8217;s <strong>not a bad thing</strong>. My point is simply that in JavaScript, more so than anywhere else, libraries need to first define what is essentially a new mini-language before they can begin to do anything useful.  This is a bit unfortunate, because it ends up tying language additions to library features, despite there being no necessary connection between the two. This makes it particularly hard to use the different libraries together in an efficient way. Sure, you can use all three in the same project, but there are some clear walls between them since each one decides to do classes a little bit differently.  Not to mention the fact that you now have pretty redundant code your site. This is what happens when a language is clearly missing features. Individual frameworks in the .NET, Objective-C, Java, and so forth world don&#8217;t suffer from core incompatibility in the way they choose to do something as fundamental as defining class hierarchies. This is part of the reason we built Objective-J as its own standalone entity.  If all you want is some of the cool language features that Objective-J adds (without any of the design patterns in Cappuccino) then you can <em>just</em> use Objective-J, there is no &#8220;all or nothing&#8221; contract.</p>
<h3>OK, so how is Objective-J different?</h3>
<p>As we&#8217;ve now seen, there is a general tendency to add language features to JavaScript. Now, in <em>my personal opinion</em>, I prefer language features as fundamental as these to be part of the syntax, not part of a library. Let&#8217;s look at what Objective-J inheritance looks like:</p>
<pre>
<div class="codeblock" style="margin-bottom: 0px; border: 0px;"><span class="keyword">@import</span> "Animal.j"

<span class="keyword">@implementation</span> Snake : Animal
{
    Number miceEaten;
}

- (String)<span class="selector">speak</span>
{
    <span class="keyword">return</span> "hisss!";
}

<span class="keyword">@end</span></div>
</pre>
<p>To me this code reads a little more naturally, and at the very least it&#8217;s no harder to pick up than the numerous library functions required in the other libraries. This approach also has the added benefit of making it absolutely trivial to write new syntax modules so that my text editor of choice can actually know what is going on in my code. You&#8217;ll also notice that creating a new syntax gives us great flexibility and allows us to add a few nifty features that wouldn&#8217;t otherwise be possible, such as optional static typing and code importing. But again, this isn&#8217;t as &#8220;out there&#8221; as some people would have you believe. It has even more benefits as we&#8217;ll soon find out, but before we do, let me answer the question that I&#8217;m sure many of you are asking right now:</p>
<h3>Why Objective-C style syntax?</h3>
<p>Again, we didn&#8217;t start off saying &#8220;lets port Objective-C&#8221;!  In fact, our first versions of Objective-J looked very similar to Java or C++:</p>
<pre>
<div class="codeblock" style="margin-bottom: 0px; border: 0px;"><span class="keyword">class</span> Snake <span class="keyword">extends</span> Animal
{
    Instance.<span class="selector">speak</span> = <span class="keyword">function</span>()
    {
          <span class="keyword">return</span> "hisss!";
    }
}</div>
</pre>
<p>However, this approach had some serious issues. To better understand them, we have to take a look at what the principal design goals of Objective-J actually were:</p>
<ol>
<li>First off, it <strong>had</strong> to be a strict superset of JavaScript - meaning all existing JavaScript had to work. Believe it or not, we <em>do like</em> JavaScript, and we didn&#8217;t want to break it or create a trade-off of features.  Not to mention we wanted the existing plethora of libraries to still work.</li>
<li>Secondly of course, we wanted to add a number of &#8220;key&#8221; features.  Some things as crucial as being able to <strong>import code</strong> and built in support for classical inheritance.  We also wanted some features inspired by languages like Ruby, such as method_missing.</li>
<li>And lastly, we wanted to keep the ease of use of JavaScript, which meant not adding an extra &#8220;compilation&#8221; step, but instead allowing developers to still pound out some code and hit refresh and see it run.</li>
</ol>
<p>The problem with adding language features in a way that would be more &#8220;familiar&#8221; to most developers, like the Java approach above, is that it would break backwards compatibility with existing JavaScript. This is because a lot of the keywords we wanted to use are actually reserved words in JavaScript, despite not being currently used. There is good reason for this though, because at some point they may actually <em>mean </em>something, and we wanted to make sure Objective-J kept working when JavaScript (finally) got a real update. Of course, we could have just chosen different keywords, like &#8220;Class&#8221; instead of &#8220;class&#8221; for instance. This however also breaks backwards compatibility because someone may have used the Class identifier in their code already.</p>
<p>The other problem with this approach is that it made it next to impossible to add harder features like optional static typing or dynamic dispatch of methods (thus allowing for method_missing) without having a full blown compiler. There&#8217;s no way to &#8220;intercept&#8221; a method call in JavaScript.  So once again, we were stuck.</p>
<p>Luckily for us however, a group of people ran into these same issues about 25 years ago when trying to improve the C language. These were the folks at Stepstone who developed Objective-C. Just like in our case, Objective-C had to be a strict superset of C (unlike C++ which does NOT always play nice with C). Also lucky for us is that JavaScript syntax is very close to C syntax, so their language additions translated very naturally to JavaScript. And perhaps now it is obvious why our keywords start with the &#8220;@&#8221; symbol, because in this manner there is no possibility of ever clashing with future JavaScript keywords or predefined user variables and functions. In other words, we can now add to the language as much as we want without the fear of breaking compatibility with existing JavaScript.</p>
<p>Similarly, the new method passing syntax allows us to have firmer control of how messages are sent:</p>
<pre>
<div class="codeblock" style="margin-bottom: 0px; border: 0px;">object.<span class="selector">jsMethod</span>();
[object <span class="selector">objjMessage</span>];</div>
</pre>
<p>This is the famous bracket syntax. What you may not realize is that this makes it perfectly clear when you are using Objective-J style message dispath, allowing us to &#8220;hook in&#8221; and add things like method_missing, etc. There are a whole bunch of other cool things that this enables which are outside the scope of this post, but I encourage you to check out the other <a href="http://cappuccino.org/learn/tutorials">tutorials</a> on our site to learn about them. All this, <strong>without</strong> breaking any existing libraries and without requiring the user to compile before every run. Pretty impressive for a langauge that is supposedly &#8220;completely different&#8221; from JavaScript.</p>
<h3>The Part About Leaky Abstractions</h3>
<p>On top of Objective-J, we&#8217;ve built the Cappuccino framework, which is designed to help developers write desktop class applications on the web. One of the many things Cappuccino does is &#8220;abstract away&#8221; the DOM, and I&#8217;ll get into why we do this in a moment.  But before I do, I think I should take a second to address this whole &#8220;leaky abstractions&#8221; business, because there seems to be a fair bit of confusion regarding this as well. If you haven&#8217;t already read it, or even if you have, I recommend you take a look at <a href="http://www.joelonsoftware.com/articles/LeakyAbstractions.html">Joel Spolsky&#8217;s original article on the subject</a>.</p>
<p>When people refer to this article, it is usually to criticize some &#8220;abstraction&#8221; because it will &#8220;inevitably&#8221; be leaky, and then oh boy you better watch out! But this was not Spolsky&#8217;s thesis. He didn&#8217;t end the article with &#8220;and thus avoid abstractions at all costs&#8221;. He was not somehow suggesting that we stop abstracting altogether. Quite the contrary, its clear that although these &#8220;leaks&#8221; are an unfortunate and unavoidable consequence, abstractions are still incredibly worthwhile: hence the conundrum. In every single example given in the article, it was never implied that the abstraction was somehow bad or invalid because of its leak: Just because certain SQL queries are slow doesn&#8217;t mean you should manually read in tab delimmeted files and scan them yourself. Just because TCP can fail if you unplug your computer doesn&#8217;t mean you should do IP transfers yourself.  It just turns out that, big surprise, nothing is perfect. Joel put it best himself:</p>
<blockquote><p>Indeed, the abstractions we&#8217;ve created over the years <strong>do</strong> allow us to deal with new orders of complexity in software development that we didn&#8217;t have to deal with ten or fifteen years ago, like GUI programming and network programming.</p></blockquote>
<p>And the truth of the matter is that the problem of leaks is overstated. I find it particularly hilarious when JavaScript programmers bring this up, since JavaScript, being a garbage collected <em>dynamic</em> <em><strong>interpreted</strong></em> language, is quite possibly one of the biggest abstractions of all. And yet, most of us can see that the benefits of JavaScript far outweigh the &#8220;leaks&#8221;. I think few JavaScript programmers have had to learn &#8220;the whole stack&#8221; once they&#8217;ve encountered one of JavaScript&#8217;s many leaks, whether it be performance issues (from being interpreted) or perhaps large memory consumption (from being improperly garbage collected in some browsers). No one has had to go and open up WebKit&#8217;s source code to figure out these problems. Most of the time you simply Google your concern and learn the workaround. Not that big a deal.</p>
<p>Leaks are just something we all have to learn to deal with in every facet of programming, because programming <strong>is</strong> abstraction. Abstraction is basically all programmers ever do, from pushing electrons across a wire, to turning C into assembly, to interpreting JavaScript in your browser, every step in computer science has been an exercise in abstraction. There is nothing inherently wrong with abstraction. I can understand if someone disagrees with a particular abstraction for well defined reasons, but simply waving your hands and referring me to the law of leaky abstractions is not a valid argument.</p>
<p>To suggest that we shouldn&#8217;t abstract because of Joel Spolsky&#8217;s Law that all abstractions are inherently leaky is to suggest that we shouldn&#8217;t debug because of Murphy&#8217;s Law that all code will remain inhrerently buggy.</p>
<h3>Back to Cappuccino and the DOM</h3>
<p>Cappuccino doesn&#8217;t just abstract away the DOM, it abstracts away HTML, CSS, VML, the JavaScript DOM API, etc. Why? Because as you can see there are just too many technologies with overlapping responsibilities. It&#8217;s never really clear whether you should create a button in HTML or in JavaScript code, and whether you should style it in a CSS files or apply styles manually in JavaScript, or whether you should just use Canvas to draw everything. Not to mention that on top of having to sort through all these technologies, you have the additional challenge of having to accomodate for every slightly different flavor that exists in every browser. Sometimes its relatively simple, but othertimes it can be quite complex, as is the case with Canvas and VML. The other problem is that these technologies were simply not originally designed to handle the tasks they are now performing.  HTML was designed for laying out documents, not creating applications.</p>
<p>We look at these technologies completely differently.  To us, HTML, CSS, Canvas, the DOM, etc all represent the &#8220;rendering engine&#8221; of the web, in the same way that graphics cards are the rendering engines for your computer. It&#8217;s too difficult to learn the intricacies of every graphics card on the market, so developers instead use technologies that hide these details like OpenGL. In the same way, Cappuccino defines a common way to &#8220;draw&#8221; for the web. Internally, it figures out whether its more efficient to make a div, or draw to a canvas, or use VML. This is a fantastic time saver today, because it allows Cappuccino to worry about things like performance and allows you to just get a button on the screen. But its going to be even better as time goes on. This is not only because the underlying code will get better, but because web applications today look like this:</p>
<blockquote><p><center><img class="alignnone size-full wp-image-204" title="webapps1" src="http://cappuccino.org/discuss/wp-content/uploads/2008/12/webapps1.png" alt="" width="400" height="137" /></center></p></blockquote>
<p>But tomorrow, when enough browsers finally support SVG, they may look like this:</p>
<blockquote><p><center><img class="alignnone size-full wp-image-206" title="webapps2" src="http://cappuccino.org/discuss/wp-content/uploads/2008/12/webapps2.png" alt="" width="400" height="137" /></center></p></blockquote>
<p>Or, for all we know, like this:</p>
<blockquote><p><center><img class="alignnone size-full wp-image-207" title="webapps4" src="http://cappuccino.org/discuss/wp-content/uploads/2008/12/webapps4.png" alt="" width="400" height="137" /></center></p></blockquote>
<p>The important thing is that when this happens, and it <em>will</em> eventually happen, people who invested heavily in todays technologies will have to spend a great deal of effort updating, but we will just swap out the guts of Cappuccino and your code will inherit the benefits of SVG or whatever new technology is out there.</p>
<h3>Conclusion</h3>
<p>To me what we&#8217;ve done with Objective-J and Cappuccino seems inevitable.  Even the most conservative major JavaScript libraries can&#8217;t get away without adding features to the language, and we&#8217;ve simply taken the next logical step with Objective-J. Similarly, Cappuccino is a tool that allows you to stop thinking about web pages and browser incompatibilities, and instead focus on the complex problems presented by the challenge of creating full-on applications on the web. As we&#8217;ve said <a href="http://cappuccino.org/discuss/2008/10/21/web-pages/">countless</a> <a href="http://cappuccino.org/learn/">times</a>, Cappuccino isn&#8217;t for everything. All of this abstraction isn&#8217;t necessary if you&#8217;re simply trying to add dynamic elements to a site like bankofamerica or digg. Cappuccino is for building rich applications in the browser, a small minority in the web world today. We believe that this is where things are headed, and we designed Cappuccino specifically to get <em>us</em> there.</p>
<p>- Francisco</p>
				</div>

				<p class="postmetadata">Tags: <a href="http://cappuccino.org/discuss/tag/cappuccino/" rel="tag">Cappuccino</a>, <a href="http://cappuccino.org/discuss/tag/objective-j/" rel="tag">Objective-J</a><br /> Posted in <a href="http://cappuccino.org/discuss/category/cappuccino/" title="View all posts in Cappuccino" rel="category tag">Cappuccino</a>,  <a href="http://cappuccino.org/discuss/category/objective-j/" title="View all posts in Objective-J" rel="category tag">Objective-J</a> |   <a href="http://cappuccino.org/discuss/2008/12/08/on-leaky-abstractions-and-objective-j/#comments" title="Comment on On Leaky Abstractions and Objective-J"></a><noscript><a href="http://cappuccino.disqus.com/?url=http://cappuccino.org/discuss/2008/12/08/on-leaky-abstractions-and-objective-j/">View comments</a></noscript><a href="http://cappuccino.org/discuss/2008/12/08/on-leaky-abstractions-and-objective-j/#disqus_thread">Comments</a></a></p>

			</div>

				<div class="post">
				<h3 id="post-114"><a href="http://cappuccino.org/discuss/2008/10/26/synthesizing-accessor-methods/" rel="bookmark" title="Permanent Link to Synthesizing Accessor Methods">Synthesizing Accessor Methods</a></h3>
				<small>Sunday, October 26th, 2008</small>

				<div class="entry">
					<p>Yesterday, Francisco and Tom checked in a new feature to the Cappuccino git repository, called accessor synthesizing. This is a new language feature for Objective-J, and its designed to reduce the amount of boilerplate code developers have to write in a custom class. Normally, when you write a custom class in Objective-J, you also write a pair of getter and setter methods for each instance variable (ivar) that you want to expose. This usually means writing repetitive code that hardly ever changes each time you write it. With accessor synthesizing, developers will only have to write getter and setter methods when something truly interesting needs to happen in those methods.</p>
<p>Accessor synthesizing adds a new keyword to the Objective-J language, <strong>@accessors</strong>. When declaring your list of ivars in the <strong>@implementation</strong> block of your class, adding this one keyword will tell the Objective-J preprocessor to implement accessors for you. Let&#8217;s see an example of a simple class written using the old method, and then the same class using <strong>@accessors</strong>.</p>
<p>This Person class has two ivars, firstname and lastname. Before <strong>@accessors</strong>, the class looks like this:</p>
<pre class="enscript" ><!--BEGIN enscript-->
@<B><span style="color:#A020F0">implementation</span></B> <B><span style="color:#0000FF">Person</span></B> : <B><span style="color:#0000FF">CPObject</span></B>
{
    CPString firstName;
    CPString lastName;
}

- (<B><span style="color:#228B22">void</span></B>)<B><span style="color:#0000FF">setFirstName</span></B>:(<B><span style="color:#228B22">CPString</span></B>)<span style="color:#B8860B">aString</span>
{
    firstName = aString;
}

- (<B><span style="color:#228B22">CPString</span></B>)<B><span style="color:#0000FF">firstName</span></B>
{
    <B><span style="color:#A020F0">return</span></B> firstName;
}

- (<B><span style="color:#228B22">void</span></B>)<B><span style="color:#0000FF">setLastName</span></B>:(<B><span style="color:#228B22">CPString</span></B>)<span style="color:#B8860B">aString</span>
{
    lastName = aString;
}

- (<B><span style="color:#228B22">CPString</span></B>)<B><span style="color:#0000FF">lastName</span></B>
{
    <B><span style="color:#A020F0">return</span></B> lastName;
}

@<B><span style="color:#A020F0">end</span></B><!--END enscript--></pre>
<p>Using the new <strong>@accessors</strong> keyword, we can eliminate four methods:</p>
<pre class="enscript" ><!--BEGIN enscript-->
@<B><span style="color:#A020F0">implementation</span></B> <B><span style="color:#0000FF">Person</span></B> : <B><span style="color:#0000FF">CPObject</span></B>
{
    CPString firstName @<B><span style="color:#A020F0">accessors</span></B>;
    CPString lastName @<B><span style="color:#A020F0">accessors</span></B>;
}
@<B><span style="color:#A020F0">end</span></B><!--END enscript--></pre>
<p>This second version is much more succinct than the first, and less tedious to program. We think this will be helpful for developers, and will increase productivity and code readability.</p>
<p>It&#8217;s important to note that this doesn&#8217;t change the way you use a class. For our Person class, in both cases, the code for getting the first and last names of a person (in the myPerson variable) would look something like this:</p>
<pre class="enscript" ><!--BEGIN enscript-->
var fullName = [myPerson firstName] + <B><span style="color:#BC8F8F">&quot; &quot;</span></B> + [myPerson lastName];<!--END enscript--></pre>
<p>Similarly, setting an ivar looks like this:</p>
<pre class="enscript" ><!--BEGIN enscript-->
[myPerson setFirstName:<B><span style="color:#BC8F8F">&quot;Winston&quot;</span></B>];
[myPerson setLastName:<B><span style="color:#BC8F8F">&quot;Smith&quot;</span></B>];<!--END enscript--></pre>
<p>Like any key-value-coding compliant class, the name of the instance variable becomes the &#8220;property&#8221; or &#8220;key&#8221;, and that key name is used in the setter and getter methods. If your key is <em>firstName</em>, the getter for that key will be <em>firstName</em>, and the setter will be <em>setFirstName:</em>. The same pattern applies to any other key.</p>
<h3>Configuration</h3>
<p>There are a few configuration options when using the new <strong>@accessors</strong> technique. Perhaps most importantly, is the ability to change the name of the property. For example, if you declared an instance variable like this:</p>
<pre class="enscript" ><!--BEGIN enscript-->
CPString _location @<B><span style="color:#A020F0">accessors</span></B>;<!--END enscript--></pre>
<p>Objective-J would generate two accessor methods called <em>_location</em> and <em>_setLocation:</em>. These are the expected accessor methods for a key called &#8220;_location&#8221;. In order to generate more friendly versions without the leading underscore, you can modify your declaration like this:</p>
<pre class="enscript" ><!--BEGIN enscript-->
CPString _location @<B><span style="color:#A020F0">accessors</span></B>(<B><span style="color:#0000FF">property</span></B>=location);<!--END enscript--></pre>
<p>The addition of the property=location tells Objective-J to use &#8220;location&#8221; as the new property name, instead of &#8220;_location&#8221;, which will generate <em>location</em> and <em>setLocation:</em> methods without the underscore. In addition, you can also specify the specific name of both the getter and the setter method, like this:</p>
<pre class="enscript" ><!--BEGIN enscript-->
<B><span style="color:#A020F0">BOOL</span></B> _hidden @<B><span style="color:#A020F0">accessors</span></B>(<B><span style="color:#0000FF">getter</span></B>=isHidden, setter=setIsHidden);<!--END enscript--></pre>
<p>This code specified a boolean instance variable called _hidden; the getter method will be called <em>isHidden</em> and the setter method will be called <em>setIsHidden:</em>. One thing to keep in mind when specifying your own getter and setter method names is key-value-coding. Although we don&#8217;t yet have much documentation on the subject (you can read Apple&#8217;s documentation <a href="http://developer.apple.com/documentation/Cocoa/Conceptual/KeyValueCoding/KeyValueCoding.html">here</a>), key-value-coding enables several important features in Cappuccino, so it&#8217;s important to maintain key-value-coding compliance. Normally, the rules are that for a given key, say &#8220;foo&#8221;, the getter is called <em>foo</em>, and the setter is called <em>setFoo:</em>. There&#8217;s an additional rule for boolean values, which says that you can use <em>isFoo</em>, and <em>setIsFoo:</em>, in addition to the usual method names. In our case, thats why our custom getter and setter names are still key-value-coding compliant.</p>
<p>There are two additional configuration options, <strong>readonly</strong>, and <strong>copy</strong>. By default, <strong>@accessors</strong> will generate both a getter and a setter. If you only want to expose a getter method to the world, you can add the <strong>readonly</strong> value in the arguments. The other option, <strong>copy</strong>, has to do with how the setter works. Normally, when you pass an object to a setter, it&#8217;s assigned directly. The generated setter looks like this:</p>
<pre class="enscript" ><!--BEGIN enscript-->
- (<B><span style="color:#228B22">void</span></B>)<B><span style="color:#0000FF">setFoo</span></B>:(<B><span style="color:#228B22">id</span></B>)<span style="color:#B8860B">aFoo</span>
{
    foo = aFoo;
}<!--END enscript--></pre>
<p>When you specify <strong>copy</strong>, the argument is first sent the message copy, and the return value of that message is assigned to the instance variable:</p>
<pre class="enscript" ><!--BEGIN enscript-->
- (<B><span style="color:#228B22">void</span></B>)<B><span style="color:#0000FF">setFoo</span></B>:(<B><span style="color:#228B22">id</span></B>)<span style="color:#B8860B">aFoo</span>
{
    <B><span style="color:#A020F0">if</span></B> (foo !== aFoo)
        foo = [aFoo copy];
}<!--END enscript--></pre>
<p>This is useful if you want to ensure that an object you&#8217;re passing isn&#8217;t modified out from under you. Of course, it only applies to ivars that are both read and write, and cannot be combined with readonly. To summarize, you can use both of these options like this:</p>
<pre class="enscript" ><!--BEGIN enscript-->
@<B><span style="color:#A020F0">implementation</span></B> <B><span style="color:#0000FF">FooBar</span></B> : <B><span style="color:#0000FF">CPObject</span></B>
{
    <B><span style="color:#A020F0">id</span></B> foo @<B><span style="color:#A020F0">accessors</span></B>(<B><span style="color:#0000FF">readonly</span></B>);
    <B><span style="color:#A020F0">id</span></B> bar @<B><span style="color:#A020F0">accessors</span></B>(<B><span style="color:#0000FF">copy</span></B>);
}<!--END enscript--></pre>
<h3>History</h3>
<p>Apple introduced properties in Objective-C 2.0, which added a new way to declare instance variables for your classes. The two key features were the ability to use what has become known as &#8220;the dot syntax&#8221; for accessing instance variables, and the second was the ability to have the compiler automatically generate accessor methods. Reducing code, especially code that doesn&#8217;t change every time you write it, is certainly a worthwhile goal, so we thought it would be a good idea to bring this new idea to Objective-J. There are a lot of things about the Objective-C 2.0 implementation of properties that don&#8217;t make sense for Objective-J, so we decided not to port them directly and instead developed a syntax that we believe makes the most sense.</p>
<p>The main goal we want to achieve is eliminating the need to write your own accessor methods. We don&#8217;t, however, support the &#8220;dot syntax&#8221; aspect of Objective-C 2.0. This makes the dual @property and @synthesize syntax of Objective-C 2.0 redundant. Furthermore, rather than just choose one or the other, we decided to use a new keyword, <strong>@accessors</strong>. This will lesson the confusion for existing Cocoa developers trying to learn Objective-J. It will also make sure we don&#8217;t have an incompatible syntax going forward, as we explore new ways to work with existing Objective-C code.</p>
<h3>Conclusion</h3>
<p>Accessor synthesizing will reduce the amount of boilerplate code that needs to be written, and make the language just a little bit easier to develop in. Overall, we think it&#8217;s a worthwhile addition to the language. If you have an opinion, we&#8217;d love to hear it, so sound off in the comments. Although this new syntax isn&#8217;t yet written in stone, we won&#8217;t expect to change it after version 0.6 of Cappuccino ships. Checkout the latest version of the git repository to start using this new feature.</p>
<p>We&#8217;re also considering other language features that might make it easier to program in Objective-J. If you&#8217;ve got an idea, or you&#8217;re interested in being part of the discussion, you should sign up for the <a href="/discuss/list.php">mailing list</a>, where we&#8217;ll be discussing some of the new proposals.</p>
				</div>

				<p class="postmetadata">Tags: <a href="http://cappuccino.org/discuss/tag/accessors/" rel="tag">@accessors</a>, <a href="http://cappuccino.org/discuss/tag/accessor-synthesizing/" rel="tag">Accessor Synthesizing</a>, <a href="http://cappuccino.org/discuss/tag/objective-j/" rel="tag">Objective-J</a><br /> Posted in <a href="http://cappuccino.org/discuss/category/objective-j/" title="View all posts in Objective-J" rel="category tag">Objective-J</a> |   <a href="http://cappuccino.org/discuss/2008/10/26/synthesizing-accessor-methods/#comments" title="Comment on Synthesizing Accessor Methods"></a><noscript><a href="http://cappuccino.disqus.com/?url=http://cappuccino.org/discuss/2008/10/26/synthesizing-accessor-methods/">View comments</a></noscript><a href="http://cappuccino.org/discuss/2008/10/26/synthesizing-accessor-methods/#disqus_thread">Comments</a></a></p>

			</div>

		
	<script type="text/javascript">
	(function() {
		var links = document.getElementsByTagName('a');
		var query = '?';
		for(var i = 0; i < links.length; i++) {
			if(links[i].href.indexOf('#disqus_thread') >= 0) {
				links[i].innerHTML = 'View Comments';
				query += 'url' + i + '=' + encodeURIComponent(links[i].href) + '&';
			}
		}
		document.write('<script type="text/javascript" src="http://disqus.com/forums/cappuccino/get_num_replies.js' + query + '"><' + '/script>');
	})();
	</script>

	
		<div class="navigation">
			<div class="alignleft"></div>
			<div class="alignright"></div>
		</div>

	        
        </div>
        
        <div style="clear:both;"></div>

        </div>
	</div>


    
    <div id="footerWrapper">
        <div id="footerContent">
            <div class="footerNavSection">
                <h4><a href="/learn">Learn</a></h4>
                <ul>
                    <li><a href="/learn">About Cappuccino</a></li>
                    <li><a href="/learn/demos">Demos</a></li>
                    <li><a href="/learn/tutorials">Tutorials</a></li>
                    <li><a href="/learn/documentation/">Documentation</a></li>
                                    </ul>
            </div>
            <div class="footerNavSection">
                <h4><a href="/discuss">Discuss</a></h4>
                <ul>
                    <li><a href="/discuss">Cappuccino Blog</a></li>
                    <li><a href="http://www.reddit.com/r/Cappuccino/">Latest News</a></li>
                    <li><a href="/discuss/events/">Events</a></li>
                    <li><a href="/discuss/list.php">Mailing List &amp; IRC</a></li>
                    <li><a href="/discuss/faq.php">Frequently Asked Questions</a></li>
                </ul>
            </div>
            <div class="footerNavSection">
                <h4><a href="/contribute">Contribute</a></h4>
                <ul>
                    <li><a href="http://github.com/280north/cappuccino">Source Code</a></li>
                    <li><a href="http://github.com/280north/cappuccino/issues">Bug Tracking</a></li>
                    <li><a href="http://github.com/280north/cappuccino/wikis">Wiki</a></li>
                    <li><a href="http://contributors.cappuccino.org/">Contributors</a></li>
                    <li><a href="http://github.com/280north/cappuccino/wikis/projects-to-work-on">Projects to Work On</a></li>
                </ul>
            </div>
            <div class="footerNavSection">
                <h4><a href="/download">Download</a></h4>
                <p>Cappuccino and Objective-J are licensed under the <a href="/learn/lgpl.txt">LGPL</a>.
                For more information, see our <a href="/learn/licensing.php">licensing page</a>.</p>
            </div>
            
            <div id="copyrightInfo">
                Copyright &copy; 2009 - <a href="http://280north.com">280 North, Inc.</a>  
                Cappuccino and Objective-J are registered Trademarks of 280 North.
                <!--<a href="#">Legal Information</a>.-->
                <a href="http://madebysofa.com"><img src="/images/minisofa.png" alt="" /></a>
                Logo by <a href="http://madebysofa.com">Sofa</a>. 
                Hosting by <a href="http://slicehost.com">Slicehost</a>.
            </div>
        </div>
    </div>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-3877734-4");
pageTracker._trackPageview();
</script>

</body>
</html>
    
    		
</body>
</html>
<!-- Dynamic Page Served (once) in 0.804 seconds -->
