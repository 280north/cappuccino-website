
<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>

    <link rel="stylesheet" type="text/css" media="screen" href="/includes/style.css"/>

    <!--[if IE]>
    <link rel="stylesheet" type="text/css" media="screen" href="/includes/style-ie.css"/>
    <![endif]-->

    <title>Cappuccino Blog  </title>

    <link rel="alternate" type="application/rss+xml" title="Cappuccino Blog RSS Feed" href="http://cappuccino.org/discuss/feed/" />
    <link rel="pingback" href="http://cappuccino.org/discuss/xmlrpc.php" />
	<link rel="shortcut icon" href="/images/favicon.png" type="image/png" />

    <meta name='robots' content='noindex,nofollow' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://cappuccino.org/discuss/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://cappuccino.org/discuss/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 2.7" />


</head>
<body>

    <div id="headerWrapper">
        <div id="headerContent">
            <div id="navigation">
            
                    
                        <div class="navigationLink">
                            <a href="/">Home</a>
                        </div>
                        
                        <div class="navigationLink">
                            <a href="/learn/">Learn</a>
                        </div>
                        
                        <div class="navigationLink">
                            <a class="activeLink" href="/discuss/">
                            Discuss</a>
                            <div id="navigationMarker"></div>
                        </div>
                        
                        <div class="navigationLink">
                            <a href="/contribute/">Contribute</a>
                        </div>
                        
                        <div class="navigationLink">
                            <a href="/download/">Download</a>
                        </div>
                                    
            </div>
            <div id="cappuccinoAnchor">
                <a href="/"><img width="32" height="32" id="cappuccinoAnchorLogo" src="/images/cappuccino-small.png" alt=" " /></a>
                <a href="/">cappuccino.org</a>
            </div>
        </div>
    </div>
    
    <div id="topContentWrapper"></div>
    
    <div id="mainContentWrapper">
        <div id="mainContent">

            <div id="redditTag"><h5>Read the latest news on the <a href="http://www.reddit.com/r/Cappuccino/">Cappuccino reddit</a>.</h5></div>

	<div id="subNavigation">
		<ul>
		
            <h3>Discuss</h3>
                <ul>
                                        <li class="active"><a href="/discuss/">Cappuccino Blog</a></li>
                    <li><a href="http://www.reddit.com/r/Cappuccino/">Latest News</a></li>
                    <li><a href="/discuss/events/">Events</a></li>
                                        <li><a href="/discuss/list.php">Mailing List &amp; IRC</a></li>
                    <li><a href="/discuss/faq.php">Frequently Asked Questions</a></li>
                </ul>

			
			<!-- Author information is disabled per default. Uncomment and fill in your details if you want to use it.
			<li><h2>Author</h2>
			<p>A little something about you, the author. Nothing lengthy, just an overview.</p>
			</li>
			-->

			 <li>

			
			</li> 
			<li class="categories"><h3>Categories</h3><ul>	<li class="cat-item cat-item-34"><a href="http://cappuccino.org/discuss/category/280-north/" title="View all posts filed under 280 North">280 North</a> (1)
</li>
	<li class="cat-item cat-item-3"><a href="http://cappuccino.org/discuss/category/cappuccino/" title="View all posts filed under Cappuccino">Cappuccino</a> (25)
<ul class='children'>
	<li class="cat-item cat-item-30"><a href="http://cappuccino.org/discuss/category/cappuccino/releases/" title="View all posts filed under Releases">Releases</a> (4)
</li>
	<li class="cat-item cat-item-27"><a href="http://cappuccino.org/discuss/category/cappuccino/tools/" title="View all posts filed under Tools">Tools</a> (5)
</li>
</ul>
</li>
	<li class="cat-item cat-item-5"><a href="http://cappuccino.org/discuss/category/events/" title="View all posts filed under Events">Events</a> (4)
</li>
	<li class="cat-item cat-item-13"><a href="http://cappuccino.org/discuss/category/objective-j/" title="View all posts filed under Objective-J">Objective-J</a> (3)
</li>
	<li class="cat-item cat-item-18"><a href="http://cappuccino.org/discuss/category/tutorials/" title="View all posts filed under Tutorials">Tutorials</a> (10)
</li>
	<li class="cat-item cat-item-1"><a href="http://cappuccino.org/discuss/category/uncategorized/" title="View all posts filed under Uncategorized">Uncategorized</a> (2)
</li>
	<li class="cat-item cat-item-4"><a href="http://cappuccino.org/discuss/category/update/" title="View all posts filed under Update">Update</a> (3)
</li>
</ul></li>
			<li><h3>Archives</h3>
				<ul>
					<li><a href='http://cappuccino.org/discuss/2009/05/' title='May 2009'>May 2009</a></li>
	<li><a href='http://cappuccino.org/discuss/2009/04/' title='April 2009'>April 2009</a></li>
	<li><a href='http://cappuccino.org/discuss/2009/03/' title='March 2009'>March 2009</a></li>
	<li><a href='http://cappuccino.org/discuss/2009/02/' title='February 2009'>February 2009</a></li>
	<li><a href='http://cappuccino.org/discuss/2009/01/' title='January 2009'>January 2009</a></li>
	<li><a href='http://cappuccino.org/discuss/2008/12/' title='December 2008'>December 2008</a></li>
	<li><a href='http://cappuccino.org/discuss/2008/11/' title='November 2008'>November 2008</a></li>
	<li><a href='http://cappuccino.org/discuss/2008/10/' title='October 2008'>October 2008</a></li>
	<li><a href='http://cappuccino.org/discuss/2008/09/' title='September 2008'>September 2008</a></li>
				</ul>
			</li>


			<li>
				<form method="get" id="searchform" action="http://cappuccino.org/discuss/">
<label class="hidden" for="s">Search for:</label>
<div><input type="text" value="" name="s" id="s" />
<input type="submit" id="searchsubmit" value="Search" />
</div>
</form>
			</li>

					</ul>
	</div>


            <div id="mainContentDetail">
            
	
		
			<div class="post" id="post-288">
				<h2><a href="http://cappuccino.org/discuss/2009/01/22/this-week-in-edge-cappuccino/" rel="bookmark" title="Permanent Link to This Week in Edge Cappuccino">This Week in Edge Cappuccino</a></h2>
				<small>January 22nd, 2009 <!-- by tlrobinson --></small>

				<div class="entry">
					<p>Thomas Balthazar has begun a weekly series of posts describing the latest development in Cappuccino. Be sure to <a href="http://suitmymind.com/2009/01/22/this-week-in-edge-cappuccino/">check it out</a> to find out what&#8217;s going on.</p>
					<!-- <br /> - tlrobinson -->
				</div>

				<p class="postmetadata"> Posted in <a href="http://cappuccino.org/discuss/category/cappuccino/" title="View all posts in Cappuccino" rel="category tag">Cappuccino</a>,  <a href="http://cappuccino.org/discuss/category/update/" title="View all posts in Update" rel="category tag">Update</a> |   <a href="http://cappuccino.org/discuss/2009/01/22/this-week-in-edge-cappuccino/#comments" title="Comment on This Week in Edge Cappuccino"></a><noscript><a href="http://cappuccino.disqus.com/?url=http://cappuccino.org/discuss/2009/01/22/this-week-in-edge-cappuccino/">View comments</a></noscript><a href="http://cappuccino.org/discuss/2009/01/22/this-week-in-edge-cappuccino/#disqus_thread">Comments</a></a></p>
			</div>

		
			<div class="post" id="post-264">
				<h2><a href="http://cappuccino.org/discuss/2008/12/18/cappuccino-featured-on-github/" rel="bookmark" title="Permanent Link to Cappuccino Featured on GitHub">Cappuccino Featured on GitHub</a></h2>
				<small>December 18th, 2008 <!-- by tlrobinson --></small>

				<div class="entry">
					<p>As you may know, Cappuccino&#8217;s source code is managed using the <a href="http://git.or.cz/">Git</a> version control system and is <a href="http://github.com/280north/cappuccino/">hosted</a> on <a href="http://github.com/">GitHub</a>. Git is a great system for open-source projects, and GitHub makes it even more powerful and easy to use.</p>
<p>This week Cappuccino is the featured project on GitHub:</p>
<p style="text-align: center;"><a href="http://github.com/280north/cappuccino/"><img class="size-full wp-image-266 aligncenter" title="Cappuccino Featured on GitHub" src="http://cappuccino.org/discuss/wp-content/uploads/2008/12/picture-4.png" alt="Cappuccino Featured on GitHub" width="658" height="428" /></a></p>
<p>We&#8217;re honored! Thanks GitHub.</p>
					<!-- <br /> - tlrobinson -->
				</div>

				<p class="postmetadata"> Posted in <a href="http://cappuccino.org/discuss/category/cappuccino/" title="View all posts in Cappuccino" rel="category tag">Cappuccino</a> |   <a href="http://cappuccino.org/discuss/2008/12/18/cappuccino-featured-on-github/#comments" title="Comment on Cappuccino Featured on GitHub"></a><noscript><a href="http://cappuccino.disqus.com/?url=http://cappuccino.org/discuss/2008/12/18/cappuccino-featured-on-github/">View comments</a></noscript><a href="http://cappuccino.org/discuss/2008/12/18/cappuccino-featured-on-github/#disqus_thread">Comments</a></a></p>
			</div>

		
			<div class="post" id="post-248">
				<h2><a href="http://cappuccino.org/discuss/2008/12/11/cappuccino-06-available-today/" rel="bookmark" title="Permanent Link to Cappuccino 0.6 Available Today">Cappuccino 0.6 Available Today</a></h2>
				<small>December 11th, 2008 <!-- by tolmasky --></small>

				<div class="entry">
					<p>After a lot of hard work, we&#8217;re ready to announce <a href = "http://cappuccino.org/download">Cappuccino 0.6</a>.  There&#8217;s a ton of great stuff in here so make sure you update your install!  Aside from a bunch of bug fixes, some of the most notable changes include:</p>
<ul>
<li>New language addition to Objective-J: The @accessors keyword to eliminate the boiler plate code of writing setters and getters.  Read more about it <a href = "http://cappuccino.org/discuss/2008/10/26/synthesizing-accessor-methods/">here</a>.</li>
<li>Support for more classes like CPTimer.</li>
<li>Performance improvements all around, but especially in Objective-J thanks to a major rewrite of the parser.</li>
<li>Improved debugging tools and a new debugging &#8220;mode&#8221;.</li>
</ul>
<p>And much more!  But despite all these additions, Cappuccino has actually gotten <strong>smaller</strong> with this release. That&#8217;s thanks to some pretty cool new compression technologies.  We&#8217;d like to thank the guys over at <a href = "http://dojotoolkit.org/">DoJo</a> for their outstanding work on <a href = "http://dojotoolkit.org/docs/shrinksafe">shrinksafe</a>, which along with a number of custom techniques on our end, have really helped this along.</p>
<p>You may have also heard that <a href = "http://www.panic.com/coda/">Coda</a> and <a href = "http://www.codingmonkeys.de/subethaedit/">SubEthaEdit</a> are now shipping with built in support for Objective-J and Cappuccino.  This is really exciting, but make sure to get the latest and greatest bundles from our <a href = "http://cappuccino.org/download">downloads page</a>, available in the Frameworks and Tools package. The download also includes modules for TextMate and Vim so no need to worry if you use these editors.</p>
<p>However, the best part about 0.6 is that we&#8217;ve had the most contributors thus far.  We&#8217;d like to thank everyone who filed bugs and helped out on the <a href = "irc://cappuccino">IRC channel</a>. And of course a special thanks to everyone that submitted patches:</p>
<p>Rich Collins<br />
Patrick Crosby<br />
Jake MacMullin<br />
Sam McDonald<br />
Glenn Rempe<br />
Nick Takayama</p>
<p>So <a href = "http://cappuccino.org/download">download it</a>, take it for a <a href = "http://cappuccino.org/learn/tutorials">spin</a>, and don&#8217;t forget to <a href = "http://cappuccino.lighthouseapp.com/projects/16499-cappuccino/overview">file bugs</a>!</p>
					<!-- <br /> - tolmasky -->
				</div>

				<p class="postmetadata"> Posted in <a href="http://cappuccino.org/discuss/category/cappuccino/releases/" title="View all posts in Releases" rel="category tag">Releases</a> |   <a href="http://cappuccino.org/discuss/2008/12/11/cappuccino-06-available-today/#comments" title="Comment on Cappuccino 0.6 Available Today"></a><noscript><a href="http://cappuccino.disqus.com/?url=http://cappuccino.org/discuss/2008/12/11/cappuccino-06-available-today/">View comments</a></noscript><a href="http://cappuccino.org/discuss/2008/12/11/cappuccino-06-available-today/#disqus_thread">Comments</a></a></p>
			</div>

		
			<div class="post" id="post-159">
				<h2><a href="http://cappuccino.org/discuss/2008/12/08/on-leaky-abstractions-and-objective-j/" rel="bookmark" title="Permanent Link to On Leaky Abstractions and Objective-J">On Leaky Abstractions and Objective-J</a></h2>
				<small>December 8th, 2008 <!-- by tolmasky --></small>

				<div class="entry">
					<p>In a <a href="http://ejohn.org/blog/javascript-language-abstractions/">recent post</a> by John Resig, and in many of the comments, there seems to be the mistaken belief that Objective-J was designed to allow existing Objective-C programmers to write code that runs on the web. It&#8217;s been compared to GWT, where developers program almost exclusively in Java and are allowed to “circumvent” JavaScript. This however is not the case with Objective-J at all. For starters, Objective-J is simply a language addition to JavaScript, and exists separately from the actual Cappuccino framework (which I&#8217;ll discuss a little later). It does not directly have anything to do with the DOM or AJAX, etc. The purpose behind Objective-J was to facilitate the development of Cappuccino, and when we originally set out to do that we simply wanted to add a few key missing features to the existing JavaScript “standard”. In other words, Objective-J is our take on JavaScript 2.0.</p>
<p>Now, this is usually the point at which someone chimes in that JavaScript is <strong>perfect</strong>, and that I just don&#8217;t understand it (you know, despite the fact that I&#8217;ve been using it for upwards of 10 years and have worked on its implementation in a major shipping browser). However, I think most people in the community can agree that there are some pretty big holes remaining in JavaScript. JavaScript is being used in increasingly larger projects, and in these projects some of its weaknesses are beginning to show. This is precisely why we have things like the (now dead) ECMAScript 4 proposal, Harmony, and Adobe&#8217;s ActionScript. And the truth is, had JavaScript 2.0 come around and been widely implemented and supported, we would have built Cappuccino without Objective-J. But the problem is that JavaScript 2.0 didn&#8217;t come around. I started working on what would eventually become Objective-J and Cappuccino <strong>three years ago</strong>, and in that time there have been no significant improvements or changes to the JavaScript language. Yes, certain browsers have taken it upon themselves to add a few nice features here and there, but for people writing real applications that need to run on most browsers, its simply not practical to rely on them. For the most part, we&#8217;re writing the same JavaScript today (language-wise at least) that we were 5 years ago. And that doesn&#8217;t seem like its going to change anytime soon.</p>
<h3><strong>Everybody is writing &#8220;abstractions&#8221; around JavaScript<br />
</strong></h3>
<p>And I don&#8217;t just mean projects like Pyjamas and GWT. I mean <strong>EVERYBODY</strong>, including Prototype, Dojo, and jQuery.  Yes, you read correctly, all the major JavaScript frameworks are essentially doing the same thing we are to some degree or another &#8212; we&#8217;re really not that original. The sole difference between their approach and ours is that when they add new language features to JavaScript, they&#8217;re not taking the extra step of introducing <em>new syntax</em>. Don&#8217;t believe me? Take a quick look at an example right out of the Prototype tutorials:</p>
<link rel="stylesheet" type="text/css" media="screen" href="/includes/tutorial.css"/>
<pre>
<div class="codeblock" style="margin-bottom: 0px; border: 0px;"><span class="comments">// when subclassing, specify the class you want to inherit from</span>
<span class="keyword">var</span> Pirate = Class.create(Person,
{
     <span class="comments">// redefine the speak method</span>
    <span class="selector">say</span>: <span class="keyword">function</span>($super, message)
    {
          <span class="keyword">return</span> $super(message) + ', yarr!';
    }
});</div>
</pre>
<p>What we&#8217;re seeing here is the introduction of classical inheritance to the JavaScript language. This has always traditionally been a language feature, but due to its absence in JavaScript, the folks at Prototype have chosen to make it a library feature. The important thing to realize here is that it requires as much work to learn about the Class function as it would to learn about a new class keyword. And the same is true of Dojo:</p>
<pre>
<div class="codeblock" style="margin-bottom: 0px; border: 0px;">dojo.declare("Employee", Person,
{
    <span class="selector">constructor</span>: <span class="keyword">function</span>(name, age, currentResidence, position)
    {
          <span class="comments">// remember, Person constructor is called automatically</span>
          <span class="keyword">this</span>.password="";
          <span class="keyword">this</span>.position=position;
    },
    <span class="selector">login</span>: <span class="keyword">function</span>()
    {
          <span class="keyword">if</span> (<span class="keyword">this</span>.password)
               alert('you have successfully logged in');
          <span class="keyword">else</span>
               alert('please ask the administrator for your password');
    }
});</div>
</pre>
<p>Once again, dojo.declare might as well be a new keyword since its shoehorning classical inheritance right into JavaScript. The jQuery UI widgets do something very similar to this with the &#8220;widget&#8221; factory method:</p>
<pre>
<div class="codeblock" style="margin-bottom: 0px; border: 0px;">
$.widget("ui.sortable", $.extend({}, $.ui.mouse,
{
    <span class="selector">_init</span>: <span class="keyword">function</span>()
    {
           <span class="keyword">var</span> o = this.options;
           <span class="keyword">this</span>.containerCache = {};
           <span class="keyword">this</span>.element.addClass("ui-sortable");
<span class="comments">//...</span></div>
</pre>
<p>At the end of the day, it doesn&#8217;t really matter if you&#8217;re a JavaScript expert, all these libraries have quite the learning curve and if its your first time with any of them, you&#8217;re going to have be referring to documentation a lot.  And that&#8217;s <strong>not a bad thing</strong>. My point is simply that in JavaScript, more so than anywhere else, libraries need to first define what is essentially a new mini-language before they can begin to do anything useful.  This is a bit unfortunate, because it ends up tying language additions to library features, despite there being no necessary connection between the two. This makes it particularly hard to use the different libraries together in an efficient way. Sure, you can use all three in the same project, but there are some clear walls between them since each one decides to do classes a little bit differently.  Not to mention the fact that you now have pretty redundant code your site. This is what happens when a language is clearly missing features. Individual frameworks in the .NET, Objective-C, Java, and so forth world don&#8217;t suffer from core incompatibility in the way they choose to do something as fundamental as defining class hierarchies. This is part of the reason we built Objective-J as its own standalone entity.  If all you want is some of the cool language features that Objective-J adds (without any of the design patterns in Cappuccino) then you can <em>just</em> use Objective-J, there is no &#8220;all or nothing&#8221; contract.</p>
<h3>OK, so how is Objective-J different?</h3>
<p>As we&#8217;ve now seen, there is a general tendency to add language features to JavaScript. Now, in <em>my personal opinion</em>, I prefer language features as fundamental as these to be part of the syntax, not part of a library. Let&#8217;s look at what Objective-J inheritance looks like:</p>
<pre>
<div class="codeblock" style="margin-bottom: 0px; border: 0px;"><span class="keyword">@import</span> "Animal.j"

<span class="keyword">@implementation</span> Snake : Animal
{
    Number miceEaten;
}

- (String)<span class="selector">speak</span>
{
    <span class="keyword">return</span> "hisss!";
}

<span class="keyword">@end</span></div>
</pre>
<p>To me this code reads a little more naturally, and at the very least it&#8217;s no harder to pick up than the numerous library functions required in the other libraries. This approach also has the added benefit of making it absolutely trivial to write new syntax modules so that my text editor of choice can actually know what is going on in my code. You&#8217;ll also notice that creating a new syntax gives us great flexibility and allows us to add a few nifty features that wouldn&#8217;t otherwise be possible, such as optional static typing and code importing. But again, this isn&#8217;t as &#8220;out there&#8221; as some people would have you believe. It has even more benefits as we&#8217;ll soon find out, but before we do, let me answer the question that I&#8217;m sure many of you are asking right now:</p>
<h3>Why Objective-C style syntax?</h3>
<p>Again, we didn&#8217;t start off saying &#8220;lets port Objective-C&#8221;!  In fact, our first versions of Objective-J looked very similar to Java or C++:</p>
<pre>
<div class="codeblock" style="margin-bottom: 0px; border: 0px;"><span class="keyword">class</span> Snake <span class="keyword">extends</span> Animal
{
    Instance.<span class="selector">speak</span> = <span class="keyword">function</span>()
    {
          <span class="keyword">return</span> "hisss!";
    }
}</div>
</pre>
<p>However, this approach had some serious issues. To better understand them, we have to take a look at what the principal design goals of Objective-J actually were:</p>
<ol>
<li>First off, it <strong>had</strong> to be a strict superset of JavaScript - meaning all existing JavaScript had to work. Believe it or not, we <em>do like</em> JavaScript, and we didn&#8217;t want to break it or create a trade-off of features.  Not to mention we wanted the existing plethora of libraries to still work.</li>
<li>Secondly of course, we wanted to add a number of &#8220;key&#8221; features.  Some things as crucial as being able to <strong>import code</strong> and built in support for classical inheritance.  We also wanted some features inspired by languages like Ruby, such as method_missing.</li>
<li>And lastly, we wanted to keep the ease of use of JavaScript, which meant not adding an extra &#8220;compilation&#8221; step, but instead allowing developers to still pound out some code and hit refresh and see it run.</li>
</ol>
<p>The problem with adding language features in a way that would be more &#8220;familiar&#8221; to most developers, like the Java approach above, is that it would break backwards compatibility with existing JavaScript. This is because a lot of the keywords we wanted to use are actually reserved words in JavaScript, despite not being currently used. There is good reason for this though, because at some point they may actually <em>mean </em>something, and we wanted to make sure Objective-J kept working when JavaScript (finally) got a real update. Of course, we could have just chosen different keywords, like &#8220;Class&#8221; instead of &#8220;class&#8221; for instance. This however also breaks backwards compatibility because someone may have used the Class identifier in their code already.</p>
<p>The other problem with this approach is that it made it next to impossible to add harder features like optional static typing or dynamic dispatch of methods (thus allowing for method_missing) without having a full blown compiler. There&#8217;s no way to &#8220;intercept&#8221; a method call in JavaScript.  So once again, we were stuck.</p>
<p>Luckily for us however, a group of people ran into these same issues about 25 years ago when trying to improve the C language. These were the folks at Stepstone who developed Objective-C. Just like in our case, Objective-C had to be a strict superset of C (unlike C++ which does NOT always play nice with C). Also lucky for us is that JavaScript syntax is very close to C syntax, so their language additions translated very naturally to JavaScript. And perhaps now it is obvious why our keywords start with the &#8220;@&#8221; symbol, because in this manner there is no possibility of ever clashing with future JavaScript keywords or predefined user variables and functions. In other words, we can now add to the language as much as we want without the fear of breaking compatibility with existing JavaScript.</p>
<p>Similarly, the new method passing syntax allows us to have firmer control of how messages are sent:</p>
<pre>
<div class="codeblock" style="margin-bottom: 0px; border: 0px;">object.<span class="selector">jsMethod</span>();
[object <span class="selector">objjMessage</span>];</div>
</pre>
<p>This is the famous bracket syntax. What you may not realize is that this makes it perfectly clear when you are using Objective-J style message dispath, allowing us to &#8220;hook in&#8221; and add things like method_missing, etc. There are a whole bunch of other cool things that this enables which are outside the scope of this post, but I encourage you to check out the other <a href="http://cappuccino.org/learn/tutorials">tutorials</a> on our site to learn about them. All this, <strong>without</strong> breaking any existing libraries and without requiring the user to compile before every run. Pretty impressive for a langauge that is supposedly &#8220;completely different&#8221; from JavaScript.</p>
<h3>The Part About Leaky Abstractions</h3>
<p>On top of Objective-J, we&#8217;ve built the Cappuccino framework, which is designed to help developers write desktop class applications on the web. One of the many things Cappuccino does is &#8220;abstract away&#8221; the DOM, and I&#8217;ll get into why we do this in a moment.  But before I do, I think I should take a second to address this whole &#8220;leaky abstractions&#8221; business, because there seems to be a fair bit of confusion regarding this as well. If you haven&#8217;t already read it, or even if you have, I recommend you take a look at <a href="http://www.joelonsoftware.com/articles/LeakyAbstractions.html">Joel Spolsky&#8217;s original article on the subject</a>.</p>
<p>When people refer to this article, it is usually to criticize some &#8220;abstraction&#8221; because it will &#8220;inevitably&#8221; be leaky, and then oh boy you better watch out! But this was not Spolsky&#8217;s thesis. He didn&#8217;t end the article with &#8220;and thus avoid abstractions at all costs&#8221;. He was not somehow suggesting that we stop abstracting altogether. Quite the contrary, its clear that although these &#8220;leaks&#8221; are an unfortunate and unavoidable consequence, abstractions are still incredibly worthwhile: hence the conundrum. In every single example given in the article, it was never implied that the abstraction was somehow bad or invalid because of its leak: Just because certain SQL queries are slow doesn&#8217;t mean you should manually read in tab delimmeted files and scan them yourself. Just because TCP can fail if you unplug your computer doesn&#8217;t mean you should do IP transfers yourself.  It just turns out that, big surprise, nothing is perfect. Joel put it best himself:</p>
<blockquote><p>Indeed, the abstractions we&#8217;ve created over the years <strong>do</strong> allow us to deal with new orders of complexity in software development that we didn&#8217;t have to deal with ten or fifteen years ago, like GUI programming and network programming.</p></blockquote>
<p>And the truth of the matter is that the problem of leaks is overstated. I find it particularly hilarious when JavaScript programmers bring this up, since JavaScript, being a garbage collected <em>dynamic</em> <em><strong>interpreted</strong></em> language, is quite possibly one of the biggest abstractions of all. And yet, most of us can see that the benefits of JavaScript far outweigh the &#8220;leaks&#8221;. I think few JavaScript programmers have had to learn &#8220;the whole stack&#8221; once they&#8217;ve encountered one of JavaScript&#8217;s many leaks, whether it be performance issues (from being interpreted) or perhaps large memory consumption (from being improperly garbage collected in some browsers). No one has had to go and open up WebKit&#8217;s source code to figure out these problems. Most of the time you simply Google your concern and learn the workaround. Not that big a deal.</p>
<p>Leaks are just something we all have to learn to deal with in every facet of programming, because programming <strong>is</strong> abstraction. Abstraction is basically all programmers ever do, from pushing electrons across a wire, to turning C into assembly, to interpreting JavaScript in your browser, every step in computer science has been an exercise in abstraction. There is nothing inherently wrong with abstraction. I can understand if someone disagrees with a particular abstraction for well defined reasons, but simply waving your hands and referring me to the law of leaky abstractions is not a valid argument.</p>
<p>To suggest that we shouldn&#8217;t abstract because of Joel Spolsky&#8217;s Law that all abstractions are inherently leaky is to suggest that we shouldn&#8217;t debug because of Murphy&#8217;s Law that all code will remain inhrerently buggy.</p>
<h3>Back to Cappuccino and the DOM</h3>
<p>Cappuccino doesn&#8217;t just abstract away the DOM, it abstracts away HTML, CSS, VML, the JavaScript DOM API, etc. Why? Because as you can see there are just too many technologies with overlapping responsibilities. It&#8217;s never really clear whether you should create a button in HTML or in JavaScript code, and whether you should style it in a CSS files or apply styles manually in JavaScript, or whether you should just use Canvas to draw everything. Not to mention that on top of having to sort through all these technologies, you have the additional challenge of having to accomodate for every slightly different flavor that exists in every browser. Sometimes its relatively simple, but othertimes it can be quite complex, as is the case with Canvas and VML. The other problem is that these technologies were simply not originally designed to handle the tasks they are now performing.  HTML was designed for laying out documents, not creating applications.</p>
<p>We look at these technologies completely differently.  To us, HTML, CSS, Canvas, the DOM, etc all represent the &#8220;rendering engine&#8221; of the web, in the same way that graphics cards are the rendering engines for your computer. It&#8217;s too difficult to learn the intricacies of every graphics card on the market, so developers instead use technologies that hide these details like OpenGL. In the same way, Cappuccino defines a common way to &#8220;draw&#8221; for the web. Internally, it figures out whether its more efficient to make a div, or draw to a canvas, or use VML. This is a fantastic time saver today, because it allows Cappuccino to worry about things like performance and allows you to just get a button on the screen. But its going to be even better as time goes on. This is not only because the underlying code will get better, but because web applications today look like this:</p>
<blockquote><p><center><img class="alignnone size-full wp-image-204" title="webapps1" src="http://cappuccino.org/discuss/wp-content/uploads/2008/12/webapps1.png" alt="" width="400" height="137" /></center></p></blockquote>
<p>But tomorrow, when enough browsers finally support SVG, they may look like this:</p>
<blockquote><p><center><img class="alignnone size-full wp-image-206" title="webapps2" src="http://cappuccino.org/discuss/wp-content/uploads/2008/12/webapps2.png" alt="" width="400" height="137" /></center></p></blockquote>
<p>Or, for all we know, like this:</p>
<blockquote><p><center><img class="alignnone size-full wp-image-207" title="webapps4" src="http://cappuccino.org/discuss/wp-content/uploads/2008/12/webapps4.png" alt="" width="400" height="137" /></center></p></blockquote>
<p>The important thing is that when this happens, and it <em>will</em> eventually happen, people who invested heavily in todays technologies will have to spend a great deal of effort updating, but we will just swap out the guts of Cappuccino and your code will inherit the benefits of SVG or whatever new technology is out there.</p>
<h3>Conclusion</h3>
<p>To me what we&#8217;ve done with Objective-J and Cappuccino seems inevitable.  Even the most conservative major JavaScript libraries can&#8217;t get away without adding features to the language, and we&#8217;ve simply taken the next logical step with Objective-J. Similarly, Cappuccino is a tool that allows you to stop thinking about web pages and browser incompatibilities, and instead focus on the complex problems presented by the challenge of creating full-on applications on the web. As we&#8217;ve said <a href="http://cappuccino.org/discuss/2008/10/21/web-pages/">countless</a> <a href="http://cappuccino.org/learn/">times</a>, Cappuccino isn&#8217;t for everything. All of this abstraction isn&#8217;t necessary if you&#8217;re simply trying to add dynamic elements to a site like bankofamerica or digg. Cappuccino is for building rich applications in the browser, a small minority in the web world today. We believe that this is where things are headed, and we designed Cappuccino specifically to get <em>us</em> there.</p>
<p>- Francisco</p>
					<!-- <br /> - tolmasky -->
				</div>

				<p class="postmetadata">Tags: <a href="http://cappuccino.org/discuss/tag/cappuccino/" rel="tag">Cappuccino</a>, <a href="http://cappuccino.org/discuss/tag/objective-j/" rel="tag">Objective-J</a><br /> Posted in <a href="http://cappuccino.org/discuss/category/cappuccino/" title="View all posts in Cappuccino" rel="category tag">Cappuccino</a>,  <a href="http://cappuccino.org/discuss/category/objective-j/" title="View all posts in Objective-J" rel="category tag">Objective-J</a> |   <a href="http://cappuccino.org/discuss/2008/12/08/on-leaky-abstractions-and-objective-j/#comments" title="Comment on On Leaky Abstractions and Objective-J"></a><noscript><a href="http://cappuccino.disqus.com/?url=http://cappuccino.org/discuss/2008/12/08/on-leaky-abstractions-and-objective-j/">View comments</a></noscript><a href="http://cappuccino.org/discuss/2008/12/08/on-leaky-abstractions-and-objective-j/#disqus_thread">Comments</a></a></p>
			</div>

		
			<div class="post" id="post-153">
				<h2><a href="http://cappuccino.org/discuss/2008/11/13/thinkvitamin/" rel="bookmark" title="Permanent Link to Tutorial on Adding Undo to Your Cappuccino Application Published on ThinkVitamin">Tutorial on Adding Undo to Your Cappuccino Application Published on ThinkVitamin</a></h2>
				<small>November 13th, 2008 <!-- by ross --></small>

				<div class="entry">
					<p>ThinkVitamin.com is featuring <a href="http://www.thinkvitamin.com/features/ajax/add-undo-and-redo-to-your-web-application-with-cappuccino">an article</a> by Francisco that goes through the process of adding undo/redo support to an existing application. It uses a &#8220;furniture layout&#8221; application as the model, and goes through all the steps necessary to make user actions undoable. </p>
<p>This is a great demonstration of one of the powerful built-in features in Cappuccino, and a good read for anyone building an application in Cappuccino. Undo support is one of those features that goes a long way in making your application more enjoyable to use, and customers will love you for it.</p>
<p>So go <a href="http://www.thinkvitamin.com/features/ajax/add-undo-and-redo-to-your-web-application-with-cappuccino">checkout the tutorial</a>, then get started adding undo support to your own applications!</p>
					<!-- <br /> - ross -->
				</div>

				<p class="postmetadata"> Posted in <a href="http://cappuccino.org/discuss/category/cappuccino/" title="View all posts in Cappuccino" rel="category tag">Cappuccino</a>,  <a href="http://cappuccino.org/discuss/category/tutorials/" title="View all posts in Tutorials" rel="category tag">Tutorials</a> |   <a href="http://cappuccino.org/discuss/2008/11/13/thinkvitamin/#comments" title="Comment on Tutorial on Adding Undo to Your Cappuccino Application Published on ThinkVitamin"></a><noscript><a href="http://cappuccino.disqus.com/?url=http://cappuccino.org/discuss/2008/11/13/thinkvitamin/">View comments</a></noscript><a href="http://cappuccino.org/discuss/2008/11/13/thinkvitamin/#disqus_thread">Comments</a></a></p>
			</div>

		
			<div class="post" id="post-139">
				<h2><a href="http://cappuccino.org/discuss/2008/11/11/cappuccino-and-ruby-on-rails/" rel="bookmark" title="Permanent Link to Getting Started With Cappuccino and Ruby on Rails">Getting Started With Cappuccino and Ruby on Rails</a></h2>
				<small>November 11th, 2008 <!-- by tlrobinson --></small>

				<div class="entry">
					<p>Cappuccino is completely server agnostic, meaning Cappuccino applications can be served using any HTTP server (for example Apache, lighttpd, Microsoft IIS, etc) and can communicate with any server side technology over HTTP (Ruby on Rails, Django, PHP, ASP, Java, CouchDB, etc). This lets you choose your server-side components based on whatever criteria is important to you (experience, existing infrastructure, etc).</p>
<p>That said, many people have asked for examples of using Cappuccino with various server side technologies, especially Ruby on Rails. Since Cappuccino is server agnostic, it turns out to be very simple to get started.</p>
<h3>Setting Up a Project</h3>
<p>The first step is to create your Rails project using the standard &#8220;rails <em>appname</em>&#8221; command:</p>
<pre>rails appname
cd appname</pre>
<p>Then create a new Cappuccino project in a temporary directory, either using the &#8220;steam create&#8221; command, or by downloading the <a href="http://cappuccino.org/download/">&#8220;Starter Package&#8221;</a>. Move the contents of the Cappuccino project to the Rails application&#8217;s &#8220;public&#8221; directory. Here&#8217;s an example using &#8220;steam create&#8221; (which will overwrite the default index.html):</p>
<pre>steam create temp
mv temp/* public/.
rmdir temp</pre>
<p>That&#8217;s it! Start the Rails webserver using &#8220;script/server&#8221;. Point your browser to http://localhost:3000/ and you should see the &#8220;hello world&#8221; Cappuccino application.</p>
<h3>Exposing the Data</h3>
<p>This alone isn&#8217;t particularly interesting. For Rails to be useful in conjunction with Cappuccino you&#8217;ll want to be able to transfer data between them. Rails makes this very easy.</p>
<p>Rails offers built in support for two common data exchange formats: JSON and XML. Of the two, JSON is typically prefered in Cappuccino. To output a Ruby data structure as JSON, simply call &#8220;render :json => object&#8221; in the controller action:</p>
<pre class="enscript" ><!--BEGIN enscript-->
<B><span style="color:#A020F0">class</span></B> TestController &lt; ApplicationController
  <B><span style="color:#A020F0">def</span></B> <B><span style="color:#0000FF">movies
</span></B>    <span style="color:#B8860B">@movies</span> = Movie.find(:all)
    render :json =&gt; <span style="color:#B8860B">@movies</span>
  <B><span style="color:#A020F0">end</span></B>
<B><span style="color:#A020F0">end</span></B><!--END enscript--></pre>
<p>This is getting all the &#8220;Movie&#8221; model objects, and simply serializing the array into JSON.</p>
<p>You can also filter or process the array before serializing it. When an ActiveRecord instance is converted to JSON it is wrapped in an extra object that&#8217;s usually uneccessary (i.e. { &#8220;movie&#8221; : { &#8220;title&#8221; : &#8220;something&#8221;, &#8220;description&#8221; : &#8220;a description&#8221; }}). Creating a plain Ruby object from each ActiveRecord object prevents this. Additionally, it allows you to perform other processing, such as excluding certain properties. Here we use &#8220;map&#8221; to convert each ActiveRecord object to a plain Ruby object:</p>
<pre class="enscript" ><!--BEGIN enscript-->
<B><span style="color:#A020F0">def</span></B> <B><span style="color:#0000FF">movies
</span></B>  <span style="color:#B8860B">@movies</span> = Movie.find(:all).map {|m| { :title =&gt; m.title, :description =&gt; m.description } }
  render :json =&gt; <span style="color:#B8860B">@movies</span>
<B><span style="color:#A020F0">end</span></B><!--END enscript--></pre>
<p>Finally, if for some reason you need to use <a href="http://cappuccino.org/discuss/2008/10/08/xmlhttprequest-jsonp-cappuccino/">JSONP</a> (be sure you understand why you need it, and the security implications!), Rails makes it very easy to wrap the JSON in callback:</p>
<pre class="enscript" ><!--BEGIN enscript-->
<B><span style="color:#A020F0">def</span></B> <B><span style="color:#0000FF">hello
</span></B>	render :json =&gt; { :hello =&gt; <B><span style="color:#BC8F8F">&quot;world&quot;</span></B> }, :callback =&gt; params[:jsoncallback]
<B><span style="color:#A020F0">end</span></B><!--END enscript--></pre>
<p>This example also demonstrates accessing parameters that were passed in, namely the &#8220;jsoncallback&#8221; parameter.</p>
<h3>Getting and Submitting Data From Cappuccino</h3>
<p>The typical way to retrieve or submit data from a Cappuccino application is to use <a href="http://cappuccino.org/learn/documentation/classes/CPURLConnection.html">CPURLConnection</a>. This is discussed extensively in <a href="http://cappuccino.org/discuss/2008/10/08/xmlhttprequest-jsonp-cappuccino/">a previous blog post</a>, and all of it applies to using Cappuccino with Rails.</p>
<h3>Scaffolding</h3>
<p>In addition to HTML views Rails &#8220;scaffolding&#8221; also provides simple XML web services. You can also easily add JSON versions similar to the following:</p>
<pre class="enscript" ><!--BEGIN enscript-->
<B><span style="color:#A020F0">def</span></B> <B><span style="color:#0000FF">index
</span></B>  <span style="color:#B8860B">@movies</span> = Movie.find(:all)

  respond_to <B><span style="color:#A020F0">do</span></B> |format|
    format.html <I><span style="color:#B22222"># index.html.erb
</span></I>    format.xml  { render :xml =&gt; <span style="color:#B8860B">@movies</span> }
    format.json  { render :json =&gt; <span style="color:#B8860B">@movies</span> }
  <B><span style="color:#A020F0">end</span></B>
<B><span style="color:#A020F0">end</span></B><!--END enscript--></pre>
<h3>Conclusion</h3>
<p>This covers the bare essentials of integrating a Cappuccino application with Rails. There is lots of potential for better Cappuccino integration with ActiveRecord and other server-side data technologies. Please feel free to make suggestions, or implement something and contribute it back!</p>
					<!-- <br /> - tlrobinson -->
				</div>

				<p class="postmetadata"> Posted in <a href="http://cappuccino.org/discuss/category/cappuccino/" title="View all posts in Cappuccino" rel="category tag">Cappuccino</a>,  <a href="http://cappuccino.org/discuss/category/tutorials/" title="View all posts in Tutorials" rel="category tag">Tutorials</a> |   <a href="http://cappuccino.org/discuss/2008/11/11/cappuccino-and-ruby-on-rails/#comments" title="Comment on Getting Started With Cappuccino and Ruby on Rails"></a><noscript><a href="http://cappuccino.disqus.com/?url=http://cappuccino.org/discuss/2008/11/11/cappuccino-and-ruby-on-rails/">View comments</a></noscript><a href="http://cappuccino.org/discuss/2008/11/11/cappuccino-and-ruby-on-rails/#disqus_thread">Comments</a></a></p>
			</div>

		
	<script type="text/javascript">
	(function() {
		var links = document.getElementsByTagName('a');
		var query = '?';
		for(var i = 0; i < links.length; i++) {
			if(links[i].href.indexOf('#disqus_thread') >= 0) {
				links[i].innerHTML = 'View Comments';
				query += 'url' + i + '=' + encodeURIComponent(links[i].href) + '&';
			}
		}
		document.write('<script type="text/javascript" src="http://disqus.com/forums/cappuccino/get_num_replies.js' + query + '"><' + '/script>');
	})();
	</script>

	
		<div class="navigation">
			<div class="alignleft"><a href="http://cappuccino.org/discuss/page/3/" >&laquo; Older Entries</a></div>
			<div class="alignright"><a href="http://cappuccino.org/discuss/" >Newer Entries &raquo;</a></div>
		</div>

	
            </div>


            <div style="clear: both;"></div>
        </div>
    </div>



    
    <div id="footerWrapper">
        <div id="footerContent">
            <div class="footerNavSection">
                <h4><a href="/learn">Learn</a></h4>
                <ul>
                    <li><a href="/learn">About Cappuccino</a></li>
                    <li><a href="/learn/demos">Demos</a></li>
                    <li><a href="/learn/tutorials">Tutorials</a></li>
                    <li><a href="/learn/documentation/">Documentation</a></li>
                                    </ul>
            </div>
            <div class="footerNavSection">
                <h4><a href="/discuss">Discuss</a></h4>
                <ul>
                    <li><a href="/discuss">Cappuccino Blog</a></li>
                    <li><a href="http://www.reddit.com/r/Cappuccino/">Latest News</a></li>
                    <li><a href="/discuss/events/">Events</a></li>
                    <li><a href="/discuss/list.php">Mailing List &amp; IRC</a></li>
                    <li><a href="/discuss/faq.php">Frequently Asked Questions</a></li>
                </ul>
            </div>
            <div class="footerNavSection">
                <h4><a href="/contribute">Contribute</a></h4>
                <ul>
                    <li><a href="http://github.com/280north/cappuccino">Source Code</a></li>
                    <li><a href="http://github.com/280north/cappuccino/issues">Bug Tracking</a></li>
                    <li><a href="http://github.com/280north/cappuccino/wikis">Wiki</a></li>
                    <li><a href="http://contributors.cappuccino.org/">Contributors</a></li>
                    <li><a href="http://github.com/280north/cappuccino/wikis/projects-to-work-on">Projects to Work On</a></li>
                </ul>
            </div>
            <div class="footerNavSection">
                <h4><a href="/download">Download</a></h4>
                <p>Cappuccino and Objective-J are licensed under the <a href="/learn/lgpl.txt">LGPL</a>.
                For more information, see our <a href="/learn/licensing.php">licensing page</a>.</p>
            </div>
            
            <div id="copyrightInfo">
                Copyright &copy; 2009 - <a href="http://280north.com">280 North, Inc.</a>  
                Cappuccino and Objective-J are registered Trademarks of 280 North.
                <!--<a href="#">Legal Information</a>.-->
                <a href="http://madebysofa.com"><img src="/images/minisofa.png" alt="" /></a>
                Logo by <a href="http://madebysofa.com">Sofa</a>. 
                Hosting by <a href="http://slicehost.com">Slicehost</a>.
            </div>
        </div>
    </div>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-3877734-4");
pageTracker._trackPageview();
</script>

</body>
</html>
    
    		
</body>
</html>
<!-- Dynamic Page Served (once) in 0.512 seconds -->
